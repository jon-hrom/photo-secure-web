# üöÄ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Foto-Mix

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –°–∫–∞—á–∞–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä

1. –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ poehali.dev –Ω–∞–∂–º–∏ **"–°–∫–∞—á–∞—Ç—å ‚Üí –°–∫–∞—á–∞—Ç—å –∫–æ–¥"**
2. –†–∞—Å–ø–∞–∫—É–π ZIP-–∞—Ä—Ö–∏–≤ –≤ –ª—é–±—É—é –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\foto-mix-android\`)

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π Terminal –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–µ Windows
2. –í –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞–ø–∏—à–∏ `cmd` –∏ –Ω–∞–∂–º–∏ Enter
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–µ

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏ 3 –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏

**–ö–æ–º–∞–Ω–¥–∞ 1** - –°–æ–±—Ä–∞—Ç—å –≤–µ–±-–≤–µ—Ä—Å–∏—é:
```
npm run build
```
–î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏).

**–ö–æ–º–∞–Ω–¥–∞ 2** - –°–æ–∑–¥–∞—Ç—å Android –ø—Ä–æ–µ–∫—Ç:
```
npx cap add android
```
–î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `android`).

**–ö–æ–º–∞–Ω–¥–∞ 3** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã:
```
npx cap sync android
```

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω –∫–∞–º–µ—Ä—ã

–ü–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥ –≤—ã—à–µ, —Å–∫–æ–ø–∏—Ä—É–π –≤—Ä—É—á–Ω—É—é:

**–ò–ó:** `android-plugin\CameraAccessPlugin.kt`  
**–í:** `android\app\src\main\java\ru\fotomix\plugins\CameraAccessPlugin.kt`

(–°–æ–∑–¥–∞–π –ø–∞–ø–∫–∏ `plugins` –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)

### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç—å MainActivity.kt

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª: `android\app\src\main\java\ru\fotomix\app\MainActivity.kt`

–ó–∞–º–µ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞:

```kotlin
package ru.fotomix.app

import android.os.Bundle
import com.getcapacitor.BridgeActivity
import ru.fotomix.plugins.CameraAccessPlugin

class MainActivity : BridgeActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        registerPlugin(CameraAccessPlugin::class.java)
    }
}
```

### –®–∞–≥ 6: –û–±–Ω–æ–≤–∏—Ç—å AndroidManifest.xml

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª: `android\app\src\main\AndroidManifest.xml`

–î–æ–±–∞–≤—å —ç—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –í–ù–£–¢–†–ò —Ç–µ–≥–∞ `<manifest>` (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏):

```xml
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" 
    android:maxSdkVersion="32" />
<uses-permission android:name="android.permission.READ_MEDIA_IMAGES" />
<uses-permission android:name="android.permission.READ_MEDIA_VIDEO" />
```

### –®–∞–≥ 7: –û—Ç–∫—Ä—ã—Ç—å –≤ Android Studio

1. –ó–∞–ø—É—Å—Ç–∏ **Android Studio**
2. –í—ã–±–µ—Ä–∏ **"Open"** (–Ω–µ "New Project")
3. –ù–∞–π–¥–∏ –∏ –æ—Ç–∫—Ä–æ–π –ø–∞–ø–∫—É `android` –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞
4. –î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ Gradle (–ø–æ–ª–æ—Å–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–Ω–∏–∑—É)

### –®–∞–≥ 8: –°–æ–±—Ä–∞—Ç—å APK

–í Android Studio:

1. –ú–µ–Ω—é: **Build ‚Üí Build Bundle(s) / APK(s) ‚Üí Build APK(s)**
2. –î–æ–∂–¥–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è "Build successful"
3. –ö–ª–∏–∫–Ω–∏ –Ω–∞ "locate" –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏

**APK –±—É–¥–µ—Ç –∑–¥–µ—Å—å:**
```
android\app\build\outputs\apk\debug\app-debug.apk
```

### –®–∞–≥ 9: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω

**–°–ø–æ—Å–æ–± 1 - –ß–µ—Ä–µ–∑ USB:**
- –í–∫–ª—é—á–∏ "–û—Ç–ª–∞–¥–∫–∞ –ø–æ USB" –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
- –ü–æ–¥–∫–ª—é—á–∏ –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É
- –í Android Studio: **Run ‚Üí Run 'app'**

**–°–ø–æ—Å–æ–± 2 - –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª:**
- –°–∫–æ–ø–∏—Ä—É–π `app-debug.apk` –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
- –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
- –†–∞–∑—Ä–µ—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

---

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### "SDK not found"
- –í Android Studio: **Tools ‚Üí SDK Manager**
- –£—Å—Ç–∞–Ω–æ–≤–∏ **Android SDK 34** (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é)

### "Gradle sync failed"
- –ü–æ–¥–æ–∂–¥–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç
- –ò–ª–∏: **File ‚Üí Invalidate Caches ‚Üí Invalidate and Restart**

### "Plugin not found"
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª `CameraAccessPlugin.kt` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `MainActivity.kt` –æ–±–Ω–æ–≤–ª—ë–Ω

---

## üéØ –ò—Ç–æ–≥–æ:

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É —Ç–µ–±—è –±—É–¥–µ—Ç APK-—Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **Foto-Mix**, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ MTP!

**–í–æ–ø—Ä–æ—Å—ã?** –ü–∏—à–∏ –≤ —á–∞—Ç! üöÄ
